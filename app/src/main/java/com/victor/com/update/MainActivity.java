package com.victor.com.update;import android.content.Intent;import android.os.Bundle;import android.os.PersistableBundle;import android.util.Log;import android.widget.TextView;import androidx.annotation.NonNull;import androidx.annotation.Nullable;import androidx.appcompat.app.AppCompatActivity;import com.victor.update.library.data.UpdateData;import com.victor.update.library.interfaces.OnDownloadProgressListener;import com.victor.update.library.module.UpdateAppHelper;import com.victor.update.library.util.Constant;public class MainActivity extends AppCompatActivity implements OnDownloadProgressListener {    private String TAG = "MainActivity";    private TextView mTvData;    private UpdateAppHelper mUpdateAppHelper;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_main);        initialize();    }    private void initialize () {        mUpdateAppHelper = new UpdateAppHelper(this, this);        mUpdateAppHelper.sendRequest(Constant.Action.CHECK_UPDATE_REQUEST);        mTvData = findViewById(R.id.tv_data);    }    @Override    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {        super.onActivityResult(requestCode, resultCode, data);        Log.e(TAG,"onActivityResult()......requestCode = " + requestCode);        Log.e(TAG,"onActivityResult()......resultCode = " + resultCode);        if (mUpdateAppHelper != null) {            mUpdateAppHelper.onActivityResult(requestCode,resultCode,data);        }    }    @Override    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {        super.onRequestPermissionsResult(requestCode, permissions, grantResults);        Log.e(TAG,"onRequestPermissionsResult()......");        if (mUpdateAppHelper != null) {            mUpdateAppHelper.onRequestPermissionsResult(requestCode,permissions,grantResults);        }    }    @Override    public void onDownloadProgress(UpdateData info) {        mTvData.setText("progress = " + info.progress + "%");    }    @Override    protected void onDestroy() {        super.onDestroy();        Log.e(TAG,"onDestroy()......");        if (mUpdateAppHelper != null) {            mUpdateAppHelper.onDestroy();        }    }}